{"version":3,"sources":["js.cookie.js","fmRESTorJS.js"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","factory","registeredInModuleLoader","define","amd","exports","module","OldCookies","window","Cookies","api","noConflict","extend","result","arguments","attributes","decode","s","replace","decodeURIComponent","init","converter","set","value","document","path","defaults","expires","Date","toUTCString","JSON","stringify","test","e","write","encodeURIComponent","String","escape","stringifiedAttributes","attributeName","split","cookie","get","json","jar","cookies","parts","slice","join","charAt","name","read","parse","getJSON","remove","withConverter","fmRESTorJS","host","database","layout","user","password","options","undefined","fmDataSource","this","_apiToken","_token","saveTo","expire","setOptions","apiToken","token","setTokenName","includes","setTokenSaveTo","Number","isInteger","expiration","setTokenExpiration","fmJsonToken","localStorage","getItem","fmObjectToken","currentDateTime","setAPIToken","setMinutes","getMinutes","getAPIToken","setItem","successCallback","errorCallback","_this","_callURL","endpoint","method","then","response","getResultFromRequestRespnse","isResultError","error","_this2","headers","Authorization","btoa","_this3","extendTokenExpiration","_this4","_this5","parameters","_this6","Content-Type","id","_this7","param","convertObjectToGetParameters","_this8","_this9","_this10","_this11","_this12","_this13","containerFieldName","containerFieldRepetition","file","_this14","data","FormData","append","scriptName","_this15","_this16","isLogged","_this17","removeItem","requestSettings","isFile","fetchRequestOptions","body","fetch","r","status","str"],"mappings":"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","file":"fmRESTorJS.min.js","sourcesContent":["\"use strict\";\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/*!\n * JavaScript Cookie v2.2.1\n * https://github.com/js-cookie/js-cookie\n *\n * Copyright 2006, 2015 Klaus Hartl & Fagner Brack\n * Released under the MIT license\n */\n;\n\n(function (factory) {\n  var registeredInModuleLoader;\n\n  if (typeof define === 'function' && define.amd) {\n    define(factory);\n    registeredInModuleLoader = true;\n  }\n\n  if ((typeof exports === \"undefined\" ? \"undefined\" : _typeof(exports)) === 'object') {\n    module.exports = factory();\n    registeredInModuleLoader = true;\n  }\n\n  if (!registeredInModuleLoader) {\n    var OldCookies = window.Cookies;\n    var api = window.Cookies = factory();\n\n    api.noConflict = function () {\n      window.Cookies = OldCookies;\n      return api;\n    };\n  }\n})(function () {\n  function extend() {\n    var i = 0;\n    var result = {};\n\n    for (; i < arguments.length; i++) {\n      var attributes = arguments[i];\n\n      for (var key in attributes) {\n        result[key] = attributes[key];\n      }\n    }\n\n    return result;\n  }\n\n  function decode(s) {\n    return s.replace(/(%[0-9A-Z]{2})+/g, decodeURIComponent);\n  }\n\n  function init(converter) {\n    function api() {}\n\n    function set(key, value, attributes) {\n      if (typeof document === 'undefined') {\n        return;\n      }\n\n      attributes = extend({\n        path: '/'\n      }, api.defaults, attributes);\n\n      if (typeof attributes.expires === 'number') {\n        attributes.expires = new Date(new Date() * 1 + attributes.expires * 864e+5);\n      } // We're using \"expires\" because \"max-age\" is not supported by IE\n\n\n      attributes.expires = attributes.expires ? attributes.expires.toUTCString() : '';\n\n      try {\n        var result = JSON.stringify(value);\n\n        if (/^[\\{\\[]/.test(result)) {\n          value = result;\n        }\n      } catch (e) {}\n\n      value = converter.write ? converter.write(value, key) : encodeURIComponent(String(value)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent);\n      key = encodeURIComponent(String(key)).replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent).replace(/[\\(\\)]/g, escape);\n      var stringifiedAttributes = '';\n\n      for (var attributeName in attributes) {\n        if (!attributes[attributeName]) {\n          continue;\n        }\n\n        stringifiedAttributes += '; ' + attributeName;\n\n        if (attributes[attributeName] === true) {\n          continue;\n        } // Considers RFC 6265 section 5.2:\n        // ...\n        // 3.  If the remaining unparsed-attributes contains a %x3B (\";\")\n        //     character:\n        // Consume the characters of the unparsed-attributes up to,\n        // not including, the first %x3B (\";\") character.\n        // ...\n\n\n        stringifiedAttributes += '=' + attributes[attributeName].split(';')[0];\n      }\n\n      return document.cookie = key + '=' + value + stringifiedAttributes;\n    }\n\n    function get(key, json) {\n      if (typeof document === 'undefined') {\n        return;\n      }\n\n      var jar = {}; // To prevent the for loop in the first place assign an empty array\n      // in case there are no cookies at all.\n\n      var cookies = document.cookie ? document.cookie.split('; ') : [];\n      var i = 0;\n\n      for (; i < cookies.length; i++) {\n        var parts = cookies[i].split('=');\n        var cookie = parts.slice(1).join('=');\n\n        if (!json && cookie.charAt(0) === '\"') {\n          cookie = cookie.slice(1, -1);\n        }\n\n        try {\n          var name = decode(parts[0]);\n          cookie = (converter.read || converter)(cookie, name) || decode(cookie);\n\n          if (json) {\n            try {\n              cookie = JSON.parse(cookie);\n            } catch (e) {}\n          }\n\n          jar[name] = cookie;\n\n          if (key === name) {\n            break;\n          }\n        } catch (e) {}\n      }\n\n      return key ? jar[key] : jar;\n    }\n\n    api.set = set;\n\n    api.get = function (key) {\n      return get(key, false\n      /* read as raw */\n      );\n    };\n\n    api.getJSON = function (key) {\n      return get(key, true\n      /* read as json */\n      );\n    };\n\n    api.remove = function (key, attributes) {\n      set(key, '', extend(attributes, {\n        expires: -1\n      }));\n    };\n\n    api.defaults = {};\n    api.withConverter = init;\n    return api;\n  }\n\n  return init(function () {});\n});","\"use strict\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar fmRESTorJS =\n/*#__PURE__*/\nfunction () {\n  function fmRESTorJS(host, database, layout, user, password) {\n    var options = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : null;\n    var fmDataSource = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : null;\n\n    _classCallCheck(this, fmRESTorJS);\n\n    this.host = host;\n    this.database = database;\n    this.layout = layout;\n    this.user = user;\n    this.password = password;\n    this.fmDataSource = fmDataSource;\n    this._apiToken = null;\n    this._token = {\n      saveTo: \"localStorage\",\n      expire: 14,\n      name: \"fm-data-api\"\n    }; // SET OPTIONS\n\n    if (options !== null) {\n      this.setOptions(options);\n    }\n  }\n\n  _createClass(fmRESTorJS, [{\n    key: \"setTokenExpiration\",\n    value: function setTokenExpiration(value) {\n      this._token.expire = value;\n    }\n  }, {\n    key: \"setTokenName\",\n    value: function setTokenName(value) {\n      this._token.name = value;\n    }\n  }, {\n    key: \"setTokenSaveTo\",\n    value: function setTokenSaveTo(value) {\n      this._token.saveTo = value;\n    }\n  }, {\n    key: \"setAPIToken\",\n    value: function setAPIToken(apiToken) {\n      this._apiToken = apiToken;\n    }\n  }, {\n    key: \"getAPIToken\",\n    value: function getAPIToken() {\n      return this._apiToken;\n    }\n  }, {\n    key: \"setOptions\",\n    value: function setOptions(options) {\n      if (\"token\" in options) {\n        var token = options.token;\n\n        if (\"name\" in token) {\n          this.setTokenName(token.name);\n        }\n\n        if (\"saveTo\" in token) {\n          if ([\"localStorage\", \"cookie\"].includes(token.saveTo)) {\n            this.setTokenSaveTo(token.saveTo);\n          }\n        }\n\n        if (\"expiration\" in token) {\n          if (Number.isInteger(token.expiration)) {\n            this.setTokenExpiration(token.expiration);\n          }\n        }\n      }\n    }\n  }, {\n    key: \"isLogged\",\n    value: function isLogged() {\n      var fmJsonToken = undefined;\n\n      if (this._token.saveTo === \"localStorage\") {\n        fmJsonToken = localStorage.getItem(this._token.name) || undefined;\n      } else {\n        fmJsonToken = Cookies.get(this._token.name) || undefined;\n      }\n\n      if (typeof fmJsonToken !== 'undefined') {\n        var fmObjectToken = JSON.parse(fmJsonToken);\n        var currentDateTime = new Date();\n        var expireTokenDateTime = new Date(fmObjectToken.expire);\n\n        if (currentDateTime >= expireTokenDateTime) {\n          return false;\n        }\n\n        this.setAPIToken(fmObjectToken.token);\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"extendTokenExpiration\",\n    value: function extendTokenExpiration() {\n      var currentDateTime = new Date();\n      currentDateTime.setMinutes(currentDateTime.getMinutes() + this._token.expire);\n      var fmJsonToken = {\n        expire: currentDateTime,\n        token: this.getAPIToken()\n      };\n\n      if (this._token.saveTo === \"localStorage\") {\n        localStorage.setItem(this._token.name, JSON.stringify(fmJsonToken));\n      } else {\n        Cookies.set(this._token.name, JSON.stringify(fmJsonToken));\n      }\n    }\n    /**\n     * @param successCallback\n     * @param errorCallback\n     */\n\n  }, {\n    key: \"getProductInformation\",\n    value: function getProductInformation(successCallback, errorCallback) {\n      var _this = this;\n\n      this._callURL({\n        endpoint: '/fmi/data/vLatest/productInfo',\n        method: 'GET'\n      }).then(function (response) {\n        var result = _this.getResultFromRequestRespnse(response);\n\n        if (!_this.isResultError(response)) {\n          return successCallback(result);\n        } else {\n          return errorCallback(result);\n        }\n      })[\"catch\"](function (error) {\n        return errorCallback(error);\n      });\n    }\n  }, {\n    key: \"getDatabaseNames\",\n\n    /**\n     *\n     * @param successCallback\n     * @param errorCallback\n     */\n    value: function getDatabaseNames(successCallback, errorCallback) {\n      var _this2 = this;\n\n      this._callURL({\n        headers: {\n          'Authorization': 'Basic ' + btoa(this.user + \":\" + this.password)\n        },\n        endpoint: '/fmi/data/vLatest/databases',\n        method: 'GET'\n      }).then(function (response) {\n        var result = _this2.getResultFromRequestRespnse(response);\n\n        if (!_this2.isResultError(response)) {\n          return successCallback(result);\n        } else {\n          return errorCallback(result);\n        }\n      })[\"catch\"](function (error) {\n        return errorCallback(error);\n      });\n    }\n  }, {\n    key: \"getScriptNames\",\n\n    /**\n     * @param successCallback\n     * @param errorCallback\n     */\n    value: function getScriptNames(successCallback, errorCallback) {\n      var _this3 = this;\n\n      this._callURL({\n        headers: {\n          'Authorization': 'Bearer ' + this.getAPIToken()\n        },\n        endpoint: '/fmi/data/vLatest/databases/' + this.database + '/scripts/',\n        method: 'GET'\n      }).then(function (response) {\n        var result = _this3.getResultFromRequestRespnse(response);\n\n        if (!_this3.isResultError(response)) {\n          _this3.extendTokenExpiration();\n\n          return successCallback(result);\n        } else {\n          return errorCallback(result);\n        }\n      })[\"catch\"](function (error) {\n        return errorCallback(error);\n      });\n    }\n  }, {\n    key: \"getLayoutNames\",\n\n    /**\n     * @param successCallback\n     * @param errorCallback\n     */\n    value: function getLayoutNames(successCallback, errorCallback) {\n      var _this4 = this;\n\n      this._callURL({\n        headers: {\n          'Authorization': 'Bearer ' + this.getAPIToken()\n        },\n        endpoint: '/fmi/data/vLatest/databases/' + this.database + '/layouts/',\n        method: 'GET'\n      }).then(function (response) {\n        var result = _this4.getResultFromRequestRespnse(response);\n\n        if (!_this4.isResultError(response)) {\n          _this4.extendTokenExpiration();\n\n          return successCallback(result);\n        } else {\n          return errorCallback(result);\n        }\n      })[\"catch\"](function (error) {\n        return errorCallback(error);\n      });\n    }\n  }, {\n    key: \"getLayoutMetadata\",\n\n    /**\n     * @param successCallback\n     * @param errorCallback\n     */\n    value: function getLayoutMetadata(successCallback, errorCallback) {\n      var _this5 = this;\n\n      this._callURL({\n        headers: {\n          'Authorization': 'Bearer ' + this.getAPIToken()\n        },\n        endpoint: '/fmi/data/vLatest/databases/' + this.database + '/layouts/' + this.layout,\n        method: 'GET'\n      }).then(function (response) {\n        var result = _this5.getResultFromRequestRespnse(response);\n\n        if (!_this5.isResultError(response)) {\n          _this5.extendTokenExpiration();\n\n          return successCallback(result);\n        } else {\n          return errorCallback(result);\n        }\n      })[\"catch\"](function (error) {\n        return errorCallback(error);\n      });\n    }\n  }, {\n    key: \"createRecord\",\n\n    /**\n     * @param parameters\n     * @param successCallback\n     * @param errorCallback\n     */\n    value: function createRecord(parameters, successCallback, errorCallback) {\n      var _this6 = this;\n\n      this._callURL({\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': 'Bearer ' + this.getAPIToken()\n        },\n        endpoint: '/fmi/data/v1/databases/' + this.database + '/layouts/' + this.layout + '/records',\n        method: 'POST'\n      }, parameters).then(function (response) {\n        var result = _this6.getResultFromRequestRespnse(response);\n\n        if (!_this6.isResultError(response)) {\n          _this6.extendTokenExpiration();\n\n          return successCallback(result);\n        } else {\n          return errorCallback(result);\n        }\n      })[\"catch\"](function (error) {\n        return errorCallback(error);\n      });\n    }\n  }, {\n    key: \"deleteRecord\",\n\n    /**\n     * @param id\n     * @param parameters\n     * @param successCallback\n     * @param errorCallback\n     */\n    value: function deleteRecord(id) {\n      var _this7 = this;\n\n      var parameters = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n      var successCallback = arguments.length > 2 ? arguments[2] : undefined;\n      var errorCallback = arguments.length > 3 ? arguments[3] : undefined;\n      var param = \"\";\n\n      if (parameters !== null) {\n        param = this.convertObjectToGetParameters(parameters);\n      }\n\n      this._callURL({\n        headers: {\n          'Authorization': 'Bearer ' + this.getAPIToken()\n        },\n        endpoint: '/fmi/data/v1/databases/' + this.database + '/layouts/' + this.layout + '/records/' + id + '?' + param,\n        method: 'DELETE'\n      }).then(function (response) {\n        var result = _this7.getResultFromRequestRespnse(response);\n\n        if (!_this7.isResultError(response)) {\n          _this7.extendTokenExpiration();\n\n          return successCallback(result);\n        } else {\n          return errorCallback(result);\n        }\n      })[\"catch\"](function (error) {\n        return errorCallback(error);\n      });\n    }\n  }, {\n    key: \"duplicateRecord\",\n\n    /**\n     * @param id\n     * @param parameters\n     * @param successCallback\n     * @param errorCallback\n     */\n    value: function duplicateRecord(id) {\n      var _this8 = this;\n\n      var parameters = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n      var successCallback = arguments.length > 2 ? arguments[2] : undefined;\n      var errorCallback = arguments.length > 3 ? arguments[3] : undefined;\n\n      this._callURL({\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': 'Bearer ' + this.getAPIToken()\n        },\n        endpoint: '/fmi/data/v1/databases/' + this.database + '/layouts/' + this.layout + '/records/' + id,\n        method: 'POST'\n      }, parameters).then(function (response) {\n        var result = _this8.getResultFromRequestRespnse(response);\n\n        if (!_this8.isResultError(response)) {\n          _this8.extendTokenExpiration();\n\n          return successCallback(result);\n        } else {\n          return errorCallback(result);\n        }\n      })[\"catch\"](function (error) {\n        return errorCallback(error);\n      });\n    }\n  }, {\n    key: \"editRecord\",\n\n    /**\n     * @param id\n     * @param parameters\n     * @param successCallback\n     * @param errorCallback\n     */\n    value: function editRecord(id, parameters, successCallback, errorCallback) {\n      var _this9 = this;\n\n      this._callURL({\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': 'Bearer ' + this.getAPIToken()\n        },\n        endpoint: '/fmi/data/v1/databases/' + this.database + '/layouts/' + this.layout + '/records/' + id,\n        method: 'PATCH'\n      }, parameters).then(function (response) {\n        var result = _this9.getResultFromRequestRespnse(response);\n\n        if (!_this9.isResultError(response)) {\n          _this9.extendTokenExpiration();\n\n          return successCallback(result);\n        } else {\n          return errorCallback(result);\n        }\n      })[\"catch\"](function (error) {\n        return errorCallback(error);\n      });\n    }\n  }, {\n    key: \"getRecord\",\n\n    /**\n     * @param id\n     * @param parameters\n     * @param successCallback\n     * @param errorCallback\n     */\n    value: function getRecord(id) {\n      var _this10 = this;\n\n      var parameters = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n      var successCallback = arguments.length > 2 ? arguments[2] : undefined;\n      var errorCallback = arguments.length > 3 ? arguments[3] : undefined;\n      var param = \"\";\n\n      if (parameters !== null) {\n        param = this.convertObjectToGetParameters(parameters);\n      }\n\n      this._callURL({\n        headers: {\n          'Authorization': 'Bearer ' + this.getAPIToken()\n        },\n        endpoint: '/fmi/data/v1/databases/' + this.database + '/layouts/' + this.layout + '/records/' + id + '?' + param,\n        method: 'GET'\n      }).then(function (response) {\n        var result = _this10.getResultFromRequestRespnse(response);\n\n        if (!_this10.isResultError(response)) {\n          _this10.extendTokenExpiration();\n\n          return successCallback(result);\n        } else {\n          return errorCallback(result);\n        }\n      })[\"catch\"](function (error) {\n        return errorCallback(error);\n      });\n    }\n  }, {\n    key: \"getRecords\",\n\n    /**\n     * @param parameters\n     * @param successCallback\n     * @param errorCallback\n     */\n    value: function getRecords() {\n      var _this11 = this;\n\n      var parameters = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      var successCallback = arguments.length > 1 ? arguments[1] : undefined;\n      var errorCallback = arguments.length > 2 ? arguments[2] : undefined;\n      var param = \"\";\n\n      if (parameters !== null) {\n        param = this.convertObjectToGetParameters(parameters);\n      }\n\n      this._callURL({\n        headers: {\n          'Authorization': 'Bearer ' + this.getAPIToken()\n        },\n        endpoint: '/fmi/data/v1/databases/' + this.database + '/layouts/' + this.layout + '/records/' + '?' + param,\n        method: 'GET'\n      }).then(function (response) {\n        var result = _this11.getResultFromRequestRespnse(response);\n\n        if (!_this11.isResultError(response)) {\n          _this11.extendTokenExpiration();\n\n          return successCallback(result);\n        } else {\n          return errorCallback(result);\n        }\n      })[\"catch\"](function (error) {\n        return errorCallback(error);\n      });\n    }\n  }, {\n    key: \"findRecords\",\n\n    /**\n     * @param parameters\n     * @param successCallback\n     * @param errorCallback\n     */\n    value: function findRecords(parameters, successCallback, errorCallback) {\n      var _this12 = this;\n\n      this._callURL({\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': 'Bearer ' + this.getAPIToken()\n        },\n        endpoint: '/fmi/data/v1/databases/' + this.database + '/layouts/' + this.layout + '/_find/',\n        method: 'POST'\n      }, parameters).then(function (response) {\n        var result = _this12.getResultFromRequestRespnse(response);\n\n        if (!_this12.isResultError(response)) {\n          _this12.extendTokenExpiration();\n\n          return successCallback(result);\n        } else {\n          return errorCallback(result);\n        }\n      })[\"catch\"](function (error) {\n        return errorCallback(error);\n      });\n    }\n  }, {\n    key: \"setGlobalField\",\n\n    /**\n     * @param parameters\n     * @param successCallback\n     * @param errorCallback\n     */\n    value: function setGlobalField(parameters, successCallback, errorCallback) {\n      var _this13 = this;\n\n      this._callURL({\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': 'Bearer ' + this.getAPIToken()\n        },\n        endpoint: '/fmi/data/v1/databases/' + this.database + '/globals/',\n        method: 'PATCH'\n      }, parameters).then(function (response) {\n        var result = _this13.getResultFromRequestRespnse(response);\n\n        if (!_this13.isResultError(response)) {\n          _this13.extendTokenExpiration();\n\n          return successCallback(result);\n        } else {\n          return errorCallback(result);\n        }\n      })[\"catch\"](function (error) {\n        return errorCallback(error);\n      });\n    }\n  }, {\n    key: \"uploadFileToContainter\",\n\n    /**\n     * @param id\n     * @param containerFieldName\n     * @param containerFieldRepetition\n     * @param file\n     * @param successCallback\n     * @param errorCallback\n     */\n    value: function uploadFileToContainter(id, containerFieldName, containerFieldRepetition, file, successCallback, errorCallback) {\n      var _this14 = this;\n\n      // PREPARE FORM DATA\n      var data = new FormData();\n      data.append(\"upload\", file);\n\n      this._callURL({\n        headers: {\n          'Authorization': 'Bearer ' + this.getAPIToken()\n        },\n        endpoint: '/fmi/data/v1/databases/' + this.database + '/layouts/' + this.layout + \"/records/\" + id + \"/containers/\" + containerFieldName + \"/\" + containerFieldRepetition,\n        method: 'POST'\n      }, data, true).then(function (response) {\n        var result = _this14.getResultFromRequestRespnse(response);\n\n        if (!_this14.isResultError(response)) {\n          _this14.extendTokenExpiration();\n\n          return successCallback(result);\n        } else {\n          return errorCallback(result);\n        }\n      })[\"catch\"](function (error) {\n        return errorCallback(error);\n      });\n    }\n  }, {\n    key: \"runScript\",\n\n    /**\n     * @param scriptName\n     * @param parameters\n     * @param successCallback\n     * @param errorCallback\n     */\n    value: function runScript(scriptName) {\n      var _this15 = this;\n\n      var parameters = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n      var successCallback = arguments.length > 2 ? arguments[2] : undefined;\n      var errorCallback = arguments.length > 3 ? arguments[3] : undefined;\n      var param = \"\";\n\n      if (parameters !== null) {\n        param = this.convertObjectToGetParameters(parameters);\n      }\n\n      this._callURL({\n        headers: {\n          'Authorization': 'Bearer ' + this.getAPIToken()\n        },\n        endpoint: '/fmi/data/v1/databases/' + this.database + '/layouts/' + this.layout + '/script/' + scriptName + '?' + param,\n        method: 'GET'\n      }).then(function (response) {\n        var result = _this15.getResultFromRequestRespnse(response);\n\n        if (!_this15.isResultError(response)) {\n          _this15.extendTokenExpiration();\n\n          return successCallback(result);\n        } else {\n          return errorCallback(result);\n        }\n      })[\"catch\"](function (error) {\n        return errorCallback(error);\n      });\n    }\n  }, {\n    key: \"login\",\n    value: function login(successCallback, errorCallback) {\n      var _this16 = this;\n\n      if (this.isLogged()) {\n        return successCallback(true);\n      }\n\n      var parameters = null;\n\n      if (this.fmDataSource !== null) {\n        parameters = {\n          fmDataSource: this.fmDataSource\n        };\n      }\n\n      return this._callURL({\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': 'Basic ' + btoa(this.user + \":\" + this.password)\n        },\n        endpoint: '/fmi/data/v1/databases/' + this.database + '/sessions/',\n        method: 'POST'\n      }, parameters).then(function (response) {\n        var result = _this16.getResultFromRequestRespnse(response);\n\n        if (!_this16.isResultError(response)) {\n          _this16.setAPIToken(result.response.token);\n\n          _this16.extendTokenExpiration();\n\n          return successCallback(true);\n        } else {\n          return errorCallback(result);\n        }\n      })[\"catch\"](function (error) {\n        return errorCallback(error);\n      });\n    }\n    /**\n     * @param successCallback\n     * @param errorCallback\n     * @returns {*}\n     */\n\n  }, {\n    key: \"logout\",\n    value: function logout(successCallback, errorCallback) {\n      var _this17 = this;\n\n      if (!this.isLogged()) {\n        return successCallback(true);\n      }\n\n      this._callURL({\n        endpoint: '/fmi/data/v1/databases/' + this.database + '/sessions/' + this.getAPIToken(),\n        method: 'DELETE'\n      }).then(function (response) {\n        var result = _this17.getResultFromRequestRespnse(response);\n\n        if (!_this17.isResultError(response)) {\n          if (_this17._token.saveTo === \"localStorage\") {\n            localStorage.removeItem(_this17._token.name);\n          } else {\n            Cookies.remove(_this17._token.name);\n          }\n\n          return successCallback(true);\n        } else {\n          return errorCallback(result);\n        }\n      })[\"catch\"](function (error) {\n        return errorCallback(error);\n      });\n    }\n  }, {\n    key: \"_callURL\",\n    value: function _callURL(requestSettings) {\n      var data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n      var isFile = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      var fetchRequestOptions = {\n        method: requestSettings['method']\n      };\n\n      if (\"headers\" in requestSettings) {\n        fetchRequestOptions.headers = requestSettings[\"headers\"];\n      }\n\n      if (data !== null && isFile === false) {\n        fetchRequestOptions.body = JSON.stringify(data);\n      }\n\n      if (data !== null && isFile === true) {\n        fetchRequestOptions.body = data;\n      }\n\n      return fetch('https://' + this.host + requestSettings[\"endpoint\"], fetchRequestOptions).then(function (r) {\n        return r.json().then(function (data) {\n          return {\n            status: r.status,\n            result: data\n          };\n        });\n      }).then(function (obj) {\n        return obj;\n      });\n    }\n    /**\n     * Get JSON from FileMaker request result\n     * @param result\n     * @returns {null}\n     */\n\n  }, {\n    key: \"getResultFromRequestRespnse\",\n    value: function getResultFromRequestRespnse(response) {\n      return response.result;\n    }\n  }, {\n    key: \"isResultError\",\n    value: function isResultError(result) {\n      if (\"status\" in result) {\n        var errorCodes = [400, 401, 403, 404, 405, 415, 500];\n\n        if (errorCodes.includes(result.status)) {\n          //let errorCode =  result.messages[0].code;\n          // TODO CAUGHT UNSUPPORTED METHODS\n          return true;\n        }\n      } else {\n        return true;\n      }\n\n      return false;\n    }\n    /**\n     * Convert object to string - get parameters\n     * @param parameters\n     * @returns {string}\n     */\n\n  }, {\n    key: \"convertObjectToGetParameters\",\n    value: function convertObjectToGetParameters(parameters) {\n      var str = \"\";\n\n      for (var key in parameters) {\n        if (str != \"\") {\n          str += \"&\";\n        }\n\n        str += key + \"=\" + encodeURIComponent(parameters[key]);\n      }\n\n      return str;\n    }\n  }]);\n\n  return fmRESTorJS;\n}();"]}